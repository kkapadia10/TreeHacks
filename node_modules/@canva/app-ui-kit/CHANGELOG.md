# CHANGELOG

## 3.1.0 - 2023-12-12

### Added

- The following components:
  - `AudioCard`
  - `AudioContextProvider`
  - `EmbedCard`
  - `ImageCard`
  - `Link`
  - `TypographyCard`
  - `VideoCard`
- The following icons:
  - `LockOpenIcon`
  - `LockClosedIcon`

**Note:** With the addition of the various `Card` components, the equivalent `Draggable` components, such as `DraggableImage`, have been removed from the [starter kit](https://github.com/canva-sdks/canva-apps-sdk-starter-kit).

### Changed

- The `Button` component now has an `ariaLabel` and `icon` prop.
- The `Grid` component now has an `alignX` prop.
- The `Swatch` component now has a `tooltipLabel` prop.
- Renamed the `colorTypographyQuaternary` token to `colorTypographyPlaceholder`.

### Fixed

- The spacing of the `FormField` component, ensuring consistency with the rest of the components.

## 3.0.0 - 2023-11-02

### Added

- The following components:
  - `Alert`
  - `CharacterCountDecorator`
  - `ColorSelector`
  - `Slider`
  - `Swatch`
  - `Switch`
  - `WordCountDecorator`
- A number of new icons.

### Changed

- **Breaking:** Made the second argument to the `onChange` callback of the `MultilineInput` component optional.

Example update in consumer code:

```diff
<MultilineInput
  onChange={(value, event) => {
+   if (event == null) {
+     return;
+   }
    const cursorPosition = event.target.selectionStart;
    handleChangeAtCursorPosition(value, cursorPosition);
  }}
/>
```

- The `Button` component now accepts a `type` prop. This prop can be set to `"submit"`, `"button"`, or `"reset"`. The default value is `"button"`.
- The `TextInput` component now accepts a `type` prop. This prop can be set to `"search"`, `"tel"`, `"text"`, or `"url"`. The default value is `"text"`.
- The `MultilineInput` component now accepts a `footer` prop. You can use this prop to decorate the input with the `CharacterCountDecorator` or `WordCountDecorator` components.

## 2.0.0 - 2023-09-14

### Removed

- **Breaking:** Removed default reset styles, including `* { margin: 0 }`. Apps may need to update to add these styles back in to maintain current styling:

```
* {
    margin: 0;
}
img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
}
input, button, textarea, select {
    font: inherit;
}
```

- **Breaking:** Removed `disableBubbles` prop from `ProgressBar` component. The bubble effect is now always enabled.
  Any usages of the `disableBubbles` prop will need to be removed.

### Changed

- **Breaking:** Renamed background color tokens. All usages must be updated to use the new name.

The `Box` component's `background` prop has changed and should be renamed accordingly:

| before                   | after                          |
| ------------------------ | ------------------------------ |
| `<Box background={1} />` | `<Box background="canvas" />`  |
| `<Box background={2} />` | `<Box background="tabdock" />` |
| `<Box background={3} />` | `<Box background="page" />`    |
| `<Box background={4} />` | `<Box background="surface" />` |

Any references to the following color tokens should be renamed accordingly:

| before                  | after               |
| ----------------------- | ------------------- |
| tokens.colorBackground1 | tokens.colorCanvas  |
| tokens.colorBackground2 | tokens.colorTabdock |
| tokens.colorBackground3 | tokens.colorPage    |
| tokens.colorBackground4 | tokens.colorSurface |

Any references to the following CSS variables should be renamed accordingly:

| before                      | after                  |
| --------------------------- | ---------------------- |
| --ui-kit-color-background-1 | --ui-kit-color-canvas  |
| --ui-kit-color-background-2 | --ui-kit-color-tabdock |
| --ui-kit-color-background-3 | --ui-kit-color-page    |
| --ui-kit-color-background-4 | --ui-kit-color-surface |

### Added

- Added new `Grid` layout component for displaying content in a grid.
- Added and edited prop documentation across multiple files, to clarify language and provide more context.

### Fixed

- Fixed disabled CSS bug in `Select` component.
- Fixed alignment of `Checkbox` with its label.
- Fixed `MultilineInput` textarea not auto-growing when wordbreaks occur from resizing.
- Validates input when using `FileInput` selector. When using the OS provided selector to choose files, users could override filetype restrictions.
- Other small bug fixes and improvements.

### Other

- `onChange` prop in `RadioGroup` component is now optional to align with the other form components.

## 1.0.0

### Added

- Initial package release
