import { Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import * as React from 'react';
import { EaselProvider } from '../../../../../base/provider/provider';
import { ApplyThemeRoot } from '../../../../../base/theme/theme';
/** 
 * A wrapper that provides theming and user preferences to App UI Kit components.
 * This component must appear once — and only once — at the root of an app, as the other components depend on it.
 */
export function AppUiProvider({ children }) {
    const [theme, setTheme] = React.useState();
    function setThemeFromContext(context) {
        setTheme(context.theme);
    }
    React.useEffect(() => {
        const wrappedWindow = window;
        const uiKit = wrappedWindow['__canva__']['uiKit'];
        uiKit.getUiContext().then(setThemeFromContext);
        uiKit.onUiContextChange(setThemeFromContext);
    }, []);
    if (!theme) {
        return _jsx(_Fragment, {});
    }
    return (_jsxs(EaselProvider, { enableAnimations: true, 
        direction: "LTR", disableFocusTraps: true, enableUserSelection: false, disableDialogBlur: false, enableEaselUiRefresh: false, children: [_jsx(ApplyThemeRoot, { appearance: theme, classicLight: theme, classicDark: theme, light: theme, dark: theme }), children] }));
}
