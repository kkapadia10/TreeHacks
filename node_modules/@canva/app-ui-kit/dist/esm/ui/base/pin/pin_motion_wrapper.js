import { jsx as _jsx } from "react/jsx-runtime";
import { UnreachableError } from '../../../base/preconditions';
import * as React from 'react';
import Transition, { ENTERED, ENTERING, EXITED, EXITING, UNMOUNTED, } from 'react-transition-group/Transition';
export const DefaultMotionWrapper = ({ children, show }) => children({ style: {}, showLayer: show });
export const createPinMotionWrapper = ({ enterStyle, 
enteredStyle = enterStyle, leaveStyle, 
exitedStyle = leaveStyle, style, durationMs, }) => {
    return function PinMotionWrapper({ children, childRef, show, persist = false, }) {
        return (_jsx(Transition, { in: show, timeout: durationMs, mountOnEnter: !persist, unmountOnExit: !persist, nodeRef: childRef, children: state => children({ style: getStyles(state), showLayer: true }) }));
    };
    function getStyles(state) {
        switch (state) {
            case ENTERING:
                return { ...style, ...enterStyle };
            case ENTERED:
                return { ...style, ...enteredStyle };
            case UNMOUNTED:
            case EXITED:
                return { ...style, ...exitedStyle };
            case EXITING:
                return { ...style, ...leaveStyle };
            default:
                throw new UnreachableError(state);
        }
    }
};
