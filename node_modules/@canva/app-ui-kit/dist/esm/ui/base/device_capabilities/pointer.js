import { Internal } from './internal';
const _window = typeof window !== 'undefined' ? window : undefined;
const _touchMatch = _window && _window.matchMedia
    ? _window.matchMedia('(pointer:coarse), (-moz-touch-enabled:1)')
    : null;
const _noHoverMatch = _window && _window.matchMedia ? _window.matchMedia('(hover: none)') : null;
export function isTouchSupported(window = _window) {
    if (window == null) {
        return false;
    }
    if (window.matchMedia == null) {
        return false;
    }
    if (Internal.isAndroidDevice(navigator)) {
        return true;
    }
    if (window === _window && _touchMatch) {
        return _touchMatch.matches;
    }
    return window.matchMedia('(pointer:coarse), (-moz-touch-enabled:1)').matches;
}
export function canHover(window = _window) {
    if (window == null) {
        return false;
    }
    if (window.matchMedia == null) {
        return true;
    }
    if (!isTouchSupported(window)) {
        return true;
    }
    if (window === _window && _noHoverMatch) {
        return !_noHoverMatch.matches;
    }
    return !window.matchMedia('(hover: none)').matches;
}
export function isPointerEventsSupported() {
    return !!window && 'PointerEvent' in window;
}
