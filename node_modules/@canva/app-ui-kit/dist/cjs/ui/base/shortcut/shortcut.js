"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Shortcut = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const classnames_1 = require("classnames");
const React = require("react");
const key_combination_1 = require('../key_combinations/key_combination');
const provider_1 = require('../provider/provider');
const shortcut_css_1 = require("./shortcut.css");
exports.Shortcut = React.memo(({ combination, platform, compact = false, size = 'medium', className }) => {
    const direction = (0, provider_1.useDirection)();
    const keyClassName = (0, classnames_1.default)(shortcut_css_1.default.key, (0, shortcut_css_1.getStyle)(size));
    if (compact) {
        return ((0, jsx_runtime_1.jsx)(Key, { className: (0, classnames_1.default)(className, keyClassName), children: (0, key_combination_1.makeHumanReadableString)(combination, direction, platform) }));
    }
    const keyStrings = (0, key_combination_1.makeHumanReadableArray)(combination, direction, platform);
    return keyStrings.length === 1
        ? (0, jsx_runtime_1.jsx)(Key, { className: (0, classnames_1.default)(className, keyClassName), children: keyStrings[0] })
        : ((0, jsx_runtime_1.jsx)("kbd", { className: (0, classnames_1.default)(className, shortcut_css_1.default.keygroup), children: keyStrings.map(keyString => ((0, jsx_runtime_1.jsx)(Key, { className: keyClassName, children: keyString }, keyString))) }));
});
exports.Shortcut.displayName = 'Shortcut';
const Key = ({ className, children }) => {
    return ((0, jsx_runtime_1.jsx)("kbd", { className: (0, classnames_1.default)(className, children.length === 1 && shortcut_css_1.default.square), children: children }));
};
