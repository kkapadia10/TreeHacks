"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getValidatedFiles = void 0;
const partition_1 = require('../../../../../../base/partition');
const getValidatedFiles = (files, multiple, accept) => {
    if (!multiple) {
        files = files.slice(0, 1);
    }
    if (accept && accept.length > 0) {
        const [acceptedFiles, rejectedFiles] = (0, partition_1.partition)(files, file => {
            const extension = file.name.split('.').pop();
            const isValidFile = (accept === null || accept === void 0 ? void 0 : accept.includes(file.type))
                || (accept === null || accept === void 0 ? void 0 : accept.includes(`.${extension}`))
                || (accept === null || accept === void 0 ? void 0 : accept.some(mimeType => file.type.match(mimeType)));
            return !!isValidFile;
        });
        return { acceptedFiles, rejectedFiles };
    }
    else {
        return { acceptedFiles: files, rejectedFiles: [] };
    }
};
exports.getValidatedFiles = getValidatedFiles;
