"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createPinMotionWrapper = exports.DefaultMotionWrapper = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const preconditions_1 = require('../../../base/preconditions');
const React = require("react");
const Transition_1 = require("react-transition-group/Transition");
const DefaultMotionWrapper = ({ children, show }) => children({ style: {}, showLayer: show });
exports.DefaultMotionWrapper = DefaultMotionWrapper;
const createPinMotionWrapper = ({ enterStyle, 
enteredStyle = enterStyle, leaveStyle, 
exitedStyle = leaveStyle, style, durationMs, }) => {
    return function PinMotionWrapper({ children, childRef, show, persist = false, }) {
        return ((0, jsx_runtime_1.jsx)(Transition_1.default, { in: show, timeout: durationMs, mountOnEnter: !persist, unmountOnExit: !persist, nodeRef: childRef, children: state => children({ style: getStyles(state), showLayer: true }) }));
    };
    function getStyles(state) {
        switch (state) {
            case Transition_1.ENTERING:
                return { ...style, ...enterStyle };
            case Transition_1.ENTERED:
                return { ...style, ...enteredStyle };
            case Transition_1.UNMOUNTED:
            case Transition_1.EXITED:
                return { ...style, ...exitedStyle };
            case Transition_1.EXITING:
                return { ...style, ...leaveStyle };
            default:
                throw new preconditions_1.UnreachableError(state);
        }
    }
};
exports.createPinMotionWrapper = createPinMotionWrapper;
