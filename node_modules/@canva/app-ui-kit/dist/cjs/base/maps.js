"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.groupBy = exports.mapValues = void 0;
function mapValues(m, f) {
    const res = new Map();
    for (const [k, u] of m) {
        res.set(k, f(u, k));
    }
    return res;
}
exports.mapValues = mapValues;
function groupBy(xs, f, opts) {
    const ignoreNonExistentKeys = !!opts && opts.ignoreNonExistentKeys;
    const res = new Map();
    for (const x of xs) {
        const key = f(x);
        if (ignoreNonExistentKeys && key == null) {
            continue;
        }
        const group = res.get(key);
        if (group) {
            group.push(x);
        }
        else {
            res.set(key, [x]);
        }
    }
    return res;
}
exports.groupBy = groupBy;
